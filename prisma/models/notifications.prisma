enum NotificationType {
  POST_LIKE
  COMMENT
  CONNECTION_REQUEST
  CONNECTION_ACCEPTED
  JOB_APPLICATION
  MESSAGE
}

model Notification {
  id          String   @id @default(cuid())
  recipientId String
  actorId     String?
  recipient   User     @relation("NotificationRecipient", fields: [recipientId], references: [id], onDelete: Cascade)
  actor       User?    @relation("NotificationActor", fields: [actorId], references: [id], onDelete: SetNull)
  type        NotificationType
  relatedId   String?
  content     String?  @db.Text
  isRead      Boolean  @default(false)
  createdAt   DateTime @default(now())

  @@index([recipientId])
  @@index([isRead])
  @@index([createdAt])
  @@index([type])
  @@map("notification")
}

